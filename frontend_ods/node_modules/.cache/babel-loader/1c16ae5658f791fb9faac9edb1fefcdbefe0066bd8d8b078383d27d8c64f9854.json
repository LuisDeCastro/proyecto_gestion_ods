{"ast":null,"code":"import _objectSpread from\"C:/Users/luisd/OneDrive/Escritorio/Areandina/Gestion de bases de datos/proyecto_ods/frontend_ods/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditIndicador=()=>{const{id}=useParams();const[form,setForm]=useState({id_meta:'',codigo_indicador:'',nombre_indicador:'',unidad_medida:'',descripcion:''});const[metas,setMetas]=useState([]);const navigate=useNavigate();useEffect(()=>{const fetchIndicador=async()=>{const response=await axios.get(\"http://localhost:3001/api/indicadores\");const indicador=response.data.find(ind=>ind.id_indicador==id);setForm(indicador);};const fetchMetas=async()=>{const response=await axios.get('http://localhost:3001/api/metas');setMetas(response.data);};fetchIndicador();fetchMetas();},[id]);const handleChange=e=>{setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();await axios.put(\"http://localhost:5000/api/indicadores/\".concat(id),form);navigate('/');};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"select\",{name:\"id_meta\",value:form.id_meta,onChange:handleChange,required:true,children:metas.map(meta=>/*#__PURE__*/_jsx(\"option\",{value:meta.id_meta,children:meta.codigo_meta},meta.id_meta))}),/*#__PURE__*/_jsx(\"input\",{name:\"codigo_indicador\",value:form.codigo_indicador,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"nombre_indicador\",value:form.nombre_indicador,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"unidad_medida\",value:form.unidad_medida,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"descripcion\",value:form.descripcion,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Actualizar\"})]});};export default EditIndicador;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","EditIndicador","id","form","setForm","id_meta","codigo_indicador","nombre_indicador","unidad_medida","descripcion","metas","setMetas","navigate","fetchIndicador","response","get","indicador","data","find","ind","id_indicador","fetchMetas","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","put","concat","onSubmit","children","onChange","required","map","meta","codigo_meta","type"],"sources":["C:/Users/luisd/OneDrive/Escritorio/Areandina/Gestion de bases de datos/proyecto_ods/frontend_ods/src/components/EditIndicador.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\n\r\nconst EditIndicador = () => {\r\n  const { id } = useParams();\r\n  const [form, setForm] = useState({\r\n    id_meta: '',\r\n    codigo_indicador: '',\r\n    nombre_indicador: '',\r\n    unidad_medida: '',\r\n    descripcion: ''\r\n  });\r\n  const [metas, setMetas] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchIndicador = async () => {\r\n      const response = await axios.get(`http://localhost:3001/api/indicadores`);\r\n      const indicador = response.data.find(ind => ind.id_indicador == id);\r\n      setForm(indicador);\r\n    };\r\n    const fetchMetas = async () => {\r\n      const response = await axios.get('http://localhost:3001/api/metas');\r\n      setMetas(response.data);\r\n    };\r\n    fetchIndicador();\r\n    fetchMetas();\r\n  }, [id]);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    await axios.put(`http://localhost:5000/api/indicadores/${id}`, form);\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <select name=\"id_meta\" value={form.id_meta} onChange={handleChange} required>\r\n        {metas.map((meta) => (\r\n          <option key={meta.id_meta} value={meta.id_meta}>{meta.codigo_meta}</option>\r\n        ))}\r\n      </select>\r\n      <input name=\"codigo_indicador\" value={form.codigo_indicador} onChange={handleChange} required />\r\n      <input name=\"nombre_indicador\" value={form.nombre_indicador} onChange={handleChange} required />\r\n      <input name=\"unidad_medida\" value={form.unidad_medida} onChange={handleChange} required />\r\n      <textarea name=\"descripcion\" value={form.descripcion} onChange={handleChange} />\r\n      <button type=\"submit\">Actualizar</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditIndicador;"],"mappings":"qLAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAEC,EAAG,CAAC,CAAGP,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACQ,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,CAC/Ba,OAAO,CAAE,EAAE,CACXC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,aAAa,CAAE,EAAE,CACjBC,WAAW,CAAE,EACf,CAAC,CAAC,CACF,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAoB,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoB,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAACqB,GAAG,wCAAwC,CAAC,CACzE,KAAM,CAAAC,SAAS,CAAGF,QAAQ,CAACG,IAAI,CAACC,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,YAAY,EAAIlB,EAAE,CAAC,CACnEE,OAAO,CAACY,SAAS,CAAC,CACpB,CAAC,CACD,KAAM,CAAAK,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAACqB,GAAG,CAAC,iCAAiC,CAAC,CACnEJ,QAAQ,CAACG,QAAQ,CAACG,IAAI,CAAC,CACzB,CAAC,CACDJ,cAAc,CAAC,CAAC,CAChBQ,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACnB,EAAE,CAAC,CAAC,CAER,KAAM,CAAAoB,YAAY,CAAIC,CAAC,EAAK,CAC1BnB,OAAO,CAAAoB,aAAA,CAAAA,aAAA,IAAMrB,IAAI,MAAE,CAACoB,CAAC,CAACE,MAAM,CAACC,IAAI,EAAGH,CAAC,CAACE,MAAM,CAACE,KAAK,EAAE,CAAC,CACvD,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAnC,KAAK,CAACoC,GAAG,0CAAAC,MAAA,CAA0C7B,EAAE,EAAIC,IAAI,CAAC,CACpES,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAED,mBACEZ,KAAA,SAAMgC,QAAQ,CAAEJ,YAAa,CAAAK,QAAA,eAC3BnC,IAAA,WAAQ4B,IAAI,CAAC,SAAS,CAACC,KAAK,CAAExB,IAAI,CAACE,OAAQ,CAAC6B,QAAQ,CAAEZ,YAAa,CAACa,QAAQ,MAAAF,QAAA,CACzEvB,KAAK,CAAC0B,GAAG,CAAEC,IAAI,eACdvC,IAAA,WAA2B6B,KAAK,CAAEU,IAAI,CAAChC,OAAQ,CAAA4B,QAAA,CAAEI,IAAI,CAACC,WAAW,EAApDD,IAAI,CAAChC,OAAwD,CAC3E,CAAC,CACI,CAAC,cACTP,IAAA,UAAO4B,IAAI,CAAC,kBAAkB,CAACC,KAAK,CAAExB,IAAI,CAACG,gBAAiB,CAAC4B,QAAQ,CAAEZ,YAAa,CAACa,QAAQ,MAAE,CAAC,cAChGrC,IAAA,UAAO4B,IAAI,CAAC,kBAAkB,CAACC,KAAK,CAAExB,IAAI,CAACI,gBAAiB,CAAC2B,QAAQ,CAAEZ,YAAa,CAACa,QAAQ,MAAE,CAAC,cAChGrC,IAAA,UAAO4B,IAAI,CAAC,eAAe,CAACC,KAAK,CAAExB,IAAI,CAACK,aAAc,CAAC0B,QAAQ,CAAEZ,YAAa,CAACa,QAAQ,MAAE,CAAC,cAC1FrC,IAAA,aAAU4B,IAAI,CAAC,aAAa,CAACC,KAAK,CAAExB,IAAI,CAACM,WAAY,CAACyB,QAAQ,CAAEZ,YAAa,CAAE,CAAC,cAChFxB,IAAA,WAAQyC,IAAI,CAAC,QAAQ,CAAAN,QAAA,CAAC,YAAU,CAAQ,CAAC,EACrC,CAAC,CAEX,CAAC,CAED,cAAe,CAAAhC,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}